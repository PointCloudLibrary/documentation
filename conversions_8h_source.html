<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Point Cloud Library (PCL): pcl/conversions.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Point Cloud Library (PCL)
   &#160;<span id="projectnumber">1.14.1-dev</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_39ef148c3cf3468c290ae8c03b3c03af.html">pcl</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">conversions.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Software License Agreement (BSD License)</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *  Point Cloud Library (PCL) - www.pointclouds.org</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *  Copyright (c) 2010-2012, Willow Garage, Inc.</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *  All rights reserved.</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *  Redistribution and use in source and binary forms, with or without</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *  modification, are permitted provided that the following conditions</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *  are met:</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *   * Redistributions of source code must retain the above copyright</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> *     notice, this list of conditions and the following disclaimer.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> *   * Redistributions in binary form must reproduce the above</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *     copyright notice, this list of conditions and the following</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *     disclaimer in the documentation and/or other materials provided</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> *     with the distribution.</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> *   * Neither the name of the copyright holder(s) nor the names of its</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> *     contributors may be used to endorse or promote products derived</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> *     from this software without specific prior written permission.</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"> *  &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"> *  LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"> *  FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment"> *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"> *  INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"> *  BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"> *  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"> *  CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"> *  LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment"> *  ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment"> *  POSSIBILITY OF SUCH DAMAGE.</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment"> * $Id$</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#pragma once</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#ifdef __GNUC__</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#pragma GCC system_header</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &lt;pcl/PCLPointField.h&gt;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &lt;pcl/PCLPointCloud2.h&gt;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &lt;pcl/PCLImage.h&gt;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &lt;pcl/point_cloud.h&gt;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &lt;pcl/type_traits.h&gt;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &lt;pcl/for_each_type.h&gt;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &lt;pcl/console/print.h&gt;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &lt;iterator&gt;</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &lt;numeric&gt;</span> <span class="comment">// for accumulate</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacepcl.html">pcl</a></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;{</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="keyword">namespace </span>detail</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="comment">// For converting template point cloud to message.</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> Po<span class="keywordtype">int</span>T&gt;</div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="structpcl_1_1detail_1_1_field_adder.html">   64</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structpcl_1_1detail_1_1_field_adder.html">FieldAdder</a></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    {</div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="structpcl_1_1detail_1_1_field_adder.html#a0a4556491969a374b8a8f937f8b4931c">   66</a></span>&#160;      <a class="code" href="structpcl_1_1detail_1_1_field_adder.html#a0a4556491969a374b8a8f937f8b4931c">FieldAdder</a> (std::vector&lt;pcl::PCLPointField&gt;&amp; fields) : <a class="code" href="structpcl_1_1detail_1_1_field_adder.html#ac7d11b069c15e8abee57c3eebc4e80e9">fields_</a> (fields) {};</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="structpcl_1_1detail_1_1_field_adder.html#ad93704b43733425a5b2322b97da91d83">   68</a></span>&#160;      <span class="keyword">template</span>&lt;<span class="keyword">typename</span> U&gt; <span class="keywordtype">void</span> <a class="code" href="structpcl_1_1detail_1_1_field_adder.html#ad93704b43733425a5b2322b97da91d83">operator() </a>()</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;      {</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <a class="code" href="structpcl_1_1_p_c_l_point_field.html">pcl::PCLPointField</a> f;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        f.<a class="code" href="structpcl_1_1_p_c_l_point_field.html#a754f7bd8665ba7912f95b4de4235560f">name</a> = pcl::traits::name&lt;PointT, U&gt;::value;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        f.<a class="code" href="structpcl_1_1_p_c_l_point_field.html#a3c6be2820c8b5cddc01960b56767bcab">offset</a> = pcl::traits::offset&lt;PointT, U&gt;::value;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        f.<a class="code" href="structpcl_1_1_p_c_l_point_field.html#ae0eaa9eb159b2682b3092ab15de0c234">datatype</a> = pcl::traits::datatype&lt;PointT, U&gt;::value;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        f.<a class="code" href="structpcl_1_1_p_c_l_point_field.html#ae14f3365e54d0f272e6648c231fa56ac">count</a> = pcl::traits::datatype&lt;PointT, U&gt;::size;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <a class="code" href="structpcl_1_1detail_1_1_field_adder.html#ac7d11b069c15e8abee57c3eebc4e80e9">fields_</a>.push_back (f);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;      }</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="structpcl_1_1detail_1_1_field_adder.html#ac7d11b069c15e8abee57c3eebc4e80e9">   78</a></span>&#160;      std::vector&lt;pcl::PCLPointField&gt;&amp; <a class="code" href="structpcl_1_1detail_1_1_field_adder.html#ac7d11b069c15e8abee57c3eebc4e80e9">fields_</a>;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    };</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="comment">// For converting message to template point cloud.</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> Po<span class="keywordtype">int</span>T&gt;</div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="structpcl_1_1detail_1_1_field_mapper.html">   83</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structpcl_1_1detail_1_1_field_mapper.html">FieldMapper</a></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    {</div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="structpcl_1_1detail_1_1_field_mapper.html#adb8d56bedc466237b51e6db45445d8d9">   85</a></span>&#160;      <a class="code" href="structpcl_1_1detail_1_1_field_mapper.html#adb8d56bedc466237b51e6db45445d8d9">FieldMapper</a> (<span class="keyword">const</span> std::vector&lt;pcl::PCLPointField&gt;&amp; fields,</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                   std::vector&lt;FieldMapping&gt;&amp; map)</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        : <a class="code" href="structpcl_1_1detail_1_1_field_mapper.html#af06ff6556b770bafaab9d2755b799159">fields_</a> (fields), <a class="code" href="structpcl_1_1detail_1_1_field_mapper.html#af1d451bd5799bbf0ee91eb01bb5c9ae1">map_</a> (map)</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      {</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      }</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;      <span class="keyword">template</span>&lt;<span class="keyword">typename</span> Tag&gt; <span class="keywordtype">void</span></div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="structpcl_1_1detail_1_1_field_mapper.html#a786246cfd0ca9ff9a953359fb783eabc">   92</a></span>&#160;      <a class="code" href="structpcl_1_1detail_1_1_field_mapper.html#a786246cfd0ca9ff9a953359fb783eabc">operator () </a>()</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      {</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; field : <a class="code" href="structpcl_1_1detail_1_1_field_mapper.html#af06ff6556b770bafaab9d2755b799159">fields_</a>)</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="structpcl_1_1_field_matches.html">FieldMatches&lt;PointT, Tag&gt;</a>()(field))</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;          {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            <a class="code" href="structpcl_1_1detail_1_1_field_mapping.html">FieldMapping</a> mapping;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            mapping.<a class="code" href="structpcl_1_1detail_1_1_field_mapping.html#aeca0d247db049a6eaa4194abd8c73191">serialized_offset</a> = field.offset;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            mapping.<a class="code" href="structpcl_1_1detail_1_1_field_mapping.html#a5df2e1c0f3ca9d1b8ee22f94c1ec49d3">struct_offset</a> = pcl::traits::offset&lt;PointT, Tag&gt;::value;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            mapping.<a class="code" href="structpcl_1_1detail_1_1_field_mapping.html#aa08aa2ea14083c674f87c60c224bad34">size</a> = <span class="keyword">sizeof</span> (<span class="keyword">typename</span> pcl::traits::datatype&lt;PointT, Tag&gt;::type);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            <a class="code" href="structpcl_1_1detail_1_1_field_mapper.html#af1d451bd5799bbf0ee91eb01bb5c9ae1">map_</a>.push_back (mapping);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;          }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        }</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <span class="comment">// Disable thrown exception per #595: http://dev.pointclouds.org/issues/595</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        PCL_WARN (<span class="stringliteral">&quot;Failed to find exact match for field &#39;%s&#39;.\n&quot;</span>, pcl::traits::name&lt;PointT, Tag&gt;::value);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="comment">//throw pcl::InvalidConversionException (ss.str ());</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;      }</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="structpcl_1_1detail_1_1_field_mapper.html#af06ff6556b770bafaab9d2755b799159">  111</a></span>&#160;      <span class="keyword">const</span> std::vector&lt;pcl::PCLPointField&gt;&amp; <a class="code" href="structpcl_1_1detail_1_1_field_mapper.html#af06ff6556b770bafaab9d2755b799159">fields_</a>;</div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="structpcl_1_1detail_1_1_field_mapper.html#af1d451bd5799bbf0ee91eb01bb5c9ae1">  112</a></span>&#160;      std::vector&lt;FieldMapping&gt;&amp; <a class="code" href="structpcl_1_1detail_1_1_field_mapper.html#af1d451bd5799bbf0ee91eb01bb5c9ae1">map_</a>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    };</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keyword">inline</span> <span class="keywordtype">bool</span></div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="namespacepcl_1_1detail.html#a24fe4be3441cd38cc1f9a8017bdd715f">  116</a></span>&#160;    <a class="code" href="namespacepcl_1_1detail.html#a24fe4be3441cd38cc1f9a8017bdd715f">fieldOrdering</a> (<span class="keyword">const</span> <a class="code" href="structpcl_1_1detail_1_1_field_mapping.html">FieldMapping</a>&amp; a, <span class="keyword">const</span> <a class="code" href="structpcl_1_1detail_1_1_field_mapping.html">FieldMapping</a>&amp; b)</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      <span class="keywordflow">return</span> (a.<a class="code" href="structpcl_1_1detail_1_1_field_mapping.html#aeca0d247db049a6eaa4194abd8c73191">serialized_offset</a> &lt; b.<a class="code" href="structpcl_1_1detail_1_1_field_mapping.html#aeca0d247db049a6eaa4194abd8c73191">serialized_offset</a>);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    }</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="comment">// Helps converting PCLPointCloud2 to templated point cloud. Casts fields if datatype is different.</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> Po<span class="keywordtype">int</span>T&gt;</div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="structpcl_1_1detail_1_1_field_caster.html">  123</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structpcl_1_1detail_1_1_field_caster.html">FieldCaster</a></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    {</div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="structpcl_1_1detail_1_1_field_caster.html#ad4c7b7f82a146783b72d272b1ab31eaf">  125</a></span>&#160;      <a class="code" href="structpcl_1_1detail_1_1_field_caster.html#ad4c7b7f82a146783b72d272b1ab31eaf">FieldCaster</a> (<span class="keyword">const</span> std::vector&lt;pcl::PCLPointField&gt;&amp; fields, <span class="keyword">const</span> <a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html">pcl::PCLPointCloud2</a>&amp; msg, <span class="keyword">const</span> std::uint8_t* msg_data, std::uint8_t* cloud_data)</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        : <a class="code" href="structpcl_1_1detail_1_1_field_caster.html#af3062419313b30d333739475e49af832">fields_</a> (fields), <a class="code" href="structpcl_1_1detail_1_1_field_caster.html#a0d1eefdfa6fa9b03e99ce290dfa669da">msg_</a>(msg), <a class="code" href="structpcl_1_1detail_1_1_field_caster.html#a9be002c1b67e68868c4d1ad2c748eb68">msg_data_</a>(msg_data), <a class="code" href="structpcl_1_1detail_1_1_field_caster.html#a001be43a2acf1d588ae42c5c7d159bb5">cloud_data_</a>(cloud_data)</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      {}</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      <span class="keyword">template</span>&lt;<span class="keyword">typename</span> Tag&gt; <span class="keywordtype">void</span></div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="structpcl_1_1detail_1_1_field_caster.html#addaf333934bf15f54affa65ae73ae43f">  130</a></span>&#160;      <a class="code" href="structpcl_1_1detail_1_1_field_caster.html#addaf333934bf15f54affa65ae73ae43f">operator () </a>()</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;      {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="comment">// first check whether any field matches exactly. Then there is nothing to do because the contents are memcpy-ed elsewhere</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; field : <a class="code" href="structpcl_1_1detail_1_1_field_caster.html#af3062419313b30d333739475e49af832">fields_</a>) {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="structpcl_1_1_field_matches.html">FieldMatches&lt;PointT, Tag&gt;</a>()(field)) {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;          }</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        }</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; field : <a class="code" href="structpcl_1_1detail_1_1_field_caster.html#af3062419313b30d333739475e49af832">fields_</a>)</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;          <span class="comment">// The following check is similar to FieldMatches, but it tests for different datatypes</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;          <span class="keywordflow">if</span> ((field.name == pcl::traits::name&lt;PointT, Tag&gt;::value) &amp;&amp;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;              (field.datatype != pcl::traits::datatype&lt;PointT, Tag&gt;::value) &amp;&amp;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;              ((field.count == pcl::traits::datatype&lt;PointT, Tag&gt;::size) ||</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;               (field.count == 0 &amp;&amp; pcl::traits::datatype&lt;PointT, Tag&gt;::size == 1))) {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="preprocessor">#define PCL_CAST_POINT_FIELD(TYPE) case ::pcl::traits::asEnum_v&lt;TYPE&gt;: \</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="preprocessor">            PCL_WARN(&quot;Will try to cast field &#39;%s&#39; (original type is &quot;</span> #TYPE &quot;). You may loose precision during casting. Make sure that this is acceptable or choose a different point type.\n&quot;, pcl::traits::name&lt;PointT, Tag&gt;::value); \</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            for (std::size_t row = 0; row &lt; msg_.height; ++row) { \</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;              const std::uint8_t* row_data = msg_data_ + row * msg_.row_step; \</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;              for (std::size_t col = 0; col &lt; msg_.width; ++col) { \</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                const std::uint8_t* msg_data = row_data + col * msg_.point_step; \</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                for(std::uint32_t i=0; i&lt;pcl::traits::datatype&lt;PointT, Tag&gt;::size; ++i) { \</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                  *(reinterpret_cast&lt;typename pcl::traits::datatype&lt;PointT, Tag&gt;::decomposed::type*&gt;(cloud_data + pcl::traits::offset&lt;PointT, Tag&gt;::value) + i) = *(reinterpret_cast&lt;const TYPE*&gt;(msg_data + field.offset) + i); \</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                } \</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                cloud_data += sizeof (PointT); \</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;              } \</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            } \</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            break;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            <span class="comment">// end of PCL_CAST_POINT_FIELD definition</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            std::uint8_t* cloud_data = <a class="code" href="structpcl_1_1detail_1_1_field_caster.html#a001be43a2acf1d588ae42c5c7d159bb5">cloud_data_</a>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            <span class="keywordflow">switch</span>(field.datatype) {</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;              PCL_CAST_POINT_FIELD(<span class="keywordtype">bool</span>)</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;              PCL_CAST_POINT_FIELD(std::int8_t)</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;              PCL_CAST_POINT_FIELD(std::uint8_t)</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;              PCL_CAST_POINT_FIELD(std::int16_t)</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;              PCL_CAST_POINT_FIELD(std::uint16_t)</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;              PCL_CAST_POINT_FIELD(std::int32_t)</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;              PCL_CAST_POINT_FIELD(std::uint32_t)</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;              PCL_CAST_POINT_FIELD(std::int64_t)</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;              PCL_CAST_POINT_FIELD(std::uint64_t)</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;              PCL_CAST_POINT_FIELD(<span class="keywordtype">float</span>)</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;              PCL_CAST_POINT_FIELD(<span class="keywordtype">double</span>)</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;              <span class="keywordflow">default</span>: std::cout &lt;&lt; <span class="stringliteral">&quot;Unknown datatype: &quot;</span> &lt;&lt; field.datatype &lt;&lt; std::endl;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            }</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;          }</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="preprocessor">#undef PCL_CAST_POINT_FIELD</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        }</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="structpcl_1_1detail_1_1_field_caster.html#af3062419313b30d333739475e49af832">  181</a></span>&#160;      <span class="keyword">const</span> std::vector&lt;pcl::PCLPointField&gt;&amp; <a class="code" href="structpcl_1_1detail_1_1_field_caster.html#af3062419313b30d333739475e49af832">fields_</a>;</div>
<div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="structpcl_1_1detail_1_1_field_caster.html#a0d1eefdfa6fa9b03e99ce290dfa669da">  182</a></span>&#160;      <span class="keyword">const</span> <a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html">pcl::PCLPointCloud2</a>&amp; <a class="code" href="structpcl_1_1detail_1_1_field_caster.html#a0d1eefdfa6fa9b03e99ce290dfa669da">msg_</a>;</div>
<div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="structpcl_1_1detail_1_1_field_caster.html#a9be002c1b67e68868c4d1ad2c748eb68">  183</a></span>&#160;      <span class="keyword">const</span> std::uint8_t* <a class="code" href="structpcl_1_1detail_1_1_field_caster.html#a9be002c1b67e68868c4d1ad2c748eb68">msg_data_</a>;</div>
<div class="line"><a name="l00184"></a><span class="lineno"><a class="line" href="structpcl_1_1detail_1_1_field_caster.html#a001be43a2acf1d588ae42c5c7d159bb5">  184</a></span>&#160;      std::uint8_t* <a class="code" href="structpcl_1_1detail_1_1_field_caster.html#a001be43a2acf1d588ae42c5c7d159bb5">cloud_data_</a>;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    };</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  } <span class="comment">//namespace detail</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> Po<span class="keywordtype">int</span>T&gt; <span class="keywordtype">void</span></div>
<div class="line"><a name="l00189"></a><span class="lineno"><a class="line" href="namespacepcl.html#a8b1e6bf082a51cc2d633495a03a18a6a">  189</a></span>&#160;  <a class="code" href="namespacepcl.html#a8b1e6bf082a51cc2d633495a03a18a6a">createMapping</a> (<span class="keyword">const</span> std::vector&lt;pcl::PCLPointField&gt;&amp; msg_fields, <a class="code" href="namespacepcl.html#ae716f0bdfbc7ae033006733a42fb6b63">MsgFieldMap</a>&amp; field_map)</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="comment">// Create initial 1-1 mapping between serialized data segments and struct fields</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <a class="code" href="structpcl_1_1detail_1_1_field_mapper.html">detail::FieldMapper&lt;PointT&gt;</a> mapper (msg_fields, field_map);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    for_each_type&lt; typename traits::fieldList&lt;PointT&gt;::type &gt; (mapper);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160; </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="comment">// Coalesce adjacent fields into single memcpy&#39;s where possible</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">if</span> (field_map.size() &gt; 1)</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      std::sort(field_map.begin(), field_map.end(), <a class="code" href="namespacepcl_1_1detail.html#a24fe4be3441cd38cc1f9a8017bdd715f">detail::fieldOrdering</a>);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      MsgFieldMap::iterator i = field_map.begin(), j = i + 1;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      <span class="keywordflow">while</span> (j != field_map.end())</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="comment">// This check is designed to permit padding between adjacent fields.</span><span class="comment"></span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">        /// @todo One could construct a pathological case where the struct has a</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">        /// field where the serialized data has padding</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment"></span>        <span class="keywordflow">if</span> (j-&gt;serialized_offset - i-&gt;serialized_offset == j-&gt;struct_offset - i-&gt;struct_offset)</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;          i-&gt;size += (j-&gt;struct_offset + j-&gt;size) - (i-&gt;struct_offset + i-&gt;size);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;          j = field_map.erase(j);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;          ++i;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;          ++j;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        }</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      }</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    }</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  }</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">  /** \brief Convert a PCLPointCloud2 binary data blob into a pcl::PointCloud&lt;T&gt; object using a field_map.</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment">    * \param[in] msg the PCLPointCloud2 binary blob (note that the binary point data in msg.data will not be used!)</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">    * \param[out] cloud the resultant pcl::PointCloud&lt;T&gt;</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">    * \param[in] field_map a MsgFieldMap object</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">    * \param[in] msg_data pointer to binary blob data, used instead of msg.data</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment">    *</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment">    * \note Use fromPCLPointCloud2 (PCLPointCloud2, PointCloud&lt;T&gt;) instead, except if you have a binary blob of</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment">    * point data that you do not want to copy into a pcl::PCLPointCloud2 in order to use fromPCLPointCloud2.</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Po<span class="keywordtype">int</span>T&gt; <span class="keywordtype">void</span></div>
<div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="namespacepcl.html#a5efff81a11f22871306dd047d0b4b5b9">  229</a></span>&#160;  <a class="code" href="namespacepcl.html#a5efff81a11f22871306dd047d0b4b5b9">fromPCLPointCloud2</a> (<span class="keyword">const</span> <a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html">pcl::PCLPointCloud2</a>&amp; msg, <a class="code" href="classpcl_1_1_point_cloud.html">pcl::PointCloud&lt;PointT&gt;</a>&amp; cloud,</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;              <span class="keyword">const</span> <a class="code" href="namespacepcl.html#ae716f0bdfbc7ae033006733a42fb6b63">MsgFieldMap</a>&amp; field_map, <span class="keyword">const</span> std::uint8_t* msg_data)</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="comment">// Copy info fields</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    cloud.<a class="code" href="classpcl_1_1_point_cloud.html#a82e0be055a617e5e74102ed62712b352">header</a>   = msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a635ede67a0140fc22a87988e5b9492bb">header</a>;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    cloud.<a class="code" href="classpcl_1_1_point_cloud.html#a644dc7161c2e3f23bc4d36d36c58e7b4">width</a>    = msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a0c8b3840f339205b7ea5c7e292ada348">width</a>;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    cloud.<a class="code" href="classpcl_1_1_point_cloud.html#a917b6eb0ef204836c56a2334ddd703fe">height</a>   = msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a28a995a6a80bc696bf7b273ee532d1a2">height</a>;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    cloud.<a class="code" href="classpcl_1_1_point_cloud.html#a3ca88d8ebf6f4f35acbc31cdfb38aa94">is_dense</a> = msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a038c13c72c8c4b3280e33833bed7eb1a">is_dense</a> == 1;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160; </div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="comment">// Resize cloud</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    cloud.<a class="code" href="classpcl_1_1_point_cloud.html#a552575b03243c7f5d95bb03c59842238">resize</a> (msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a0c8b3840f339205b7ea5c7e292ada348">width</a> * msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a28a995a6a80bc696bf7b273ee532d1a2">height</a>);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="comment">// check if there is data to copy</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordflow">if</span> (msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a0c8b3840f339205b7ea5c7e292ada348">width</a> * msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a28a995a6a80bc696bf7b273ee532d1a2">height</a> == 0)</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    }</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160; </div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="comment">// Copy point data</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    std::uint8_t* cloud_data = <span class="keyword">reinterpret_cast&lt;</span>std::uint8_t*<span class="keyword">&gt;</span>(cloud.<a class="code" href="classpcl_1_1_point_cloud.html#a02ea96f88e94451f4fd7522d5237474e">data</a>());</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="comment">// Check if we can copy adjacent points in a single memcpy.  We can do so if there</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="comment">// is exactly one field to copy and it is the same size as the source and destination</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="comment">// point types.</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordflow">if</span> (field_map.size() == 1 &amp;&amp;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        field_map[0].serialized_offset == 0 &amp;&amp;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        field_map[0].struct_offset == 0 &amp;&amp;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        field_map[0].size == msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a9e8c0fd863180ae09d94abbec41de7a5">point_step</a> &amp;&amp;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        field_map[0].size == <span class="keyword">sizeof</span>(<a class="code" href="structpcl_1_1_point_x_y_z_r_g_b.html">PointT</a>))</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> cloud_row_step = (<span class="keyword">sizeof</span> (<a class="code" href="structpcl_1_1_point_x_y_z_r_g_b.html">PointT</a>) * cloud.<a class="code" href="classpcl_1_1_point_cloud.html#a644dc7161c2e3f23bc4d36d36c58e7b4">width</a>);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      <span class="comment">// Should usually be able to copy all rows at once</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      <span class="keywordflow">if</span> (msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a4b0a5a0eb0011702ad67bf8e3205cb9d">row_step</a> == cloud_row_step)</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      {</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        memcpy (cloud_data, msg_data, msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a0c8b3840f339205b7ea5c7e292ada348">width</a> * msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a28a995a6a80bc696bf7b273ee532d1a2">height</a> * <span class="keyword">sizeof</span>(<a class="code" href="structpcl_1_1_point_x_y_z_r_g_b.html">PointT</a>));</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      }</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="namespacepcl.html#a1b98b7f9535916d9dffec6d425d2eed9">uindex_t</a> i = 0; i &lt; msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a28a995a6a80bc696bf7b273ee532d1a2">height</a>; ++i, cloud_data += cloud_row_step, msg_data += msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a4b0a5a0eb0011702ad67bf8e3205cb9d">row_step</a>)</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;          memcpy (cloud_data, msg_data, cloud_row_step);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      }</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160; </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    }</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      <span class="comment">// If not, memcpy each group of contiguous fields separately</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      <span class="keywordflow">for</span> (std::size_t row = 0; row &lt; msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a28a995a6a80bc696bf7b273ee532d1a2">height</a>; ++row)</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <span class="keyword">const</span> std::uint8_t* row_data = msg_data + row * msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a4b0a5a0eb0011702ad67bf8e3205cb9d">row_step</a>;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="keywordflow">for</span> (std::size_t col = 0; col &lt; msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a0c8b3840f339205b7ea5c7e292ada348">width</a>; ++col)</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        {</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;          <span class="keyword">const</span> std::uint8_t* msg_data = row_data + col * msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a9e8c0fd863180ae09d94abbec41de7a5">point_step</a>;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structpcl_1_1detail_1_1_field_mapping.html">detail::FieldMapping</a>&amp; mapping : field_map)</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;          {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            std::copy(msg_data + mapping.serialized_offset, msg_data + mapping.serialized_offset + mapping.size,</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                        cloud_data + mapping.struct_offset);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;          }</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;          cloud_data += <span class="keyword">sizeof</span> (<a class="code" href="structpcl_1_1_point_x_y_z_r_g_b.html">PointT</a>);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      }</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    }</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="comment">// if any fields in msg and cloud have different datatypes but the same name, we cast them:</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <a class="code" href="structpcl_1_1detail_1_1_field_caster.html">detail::FieldCaster&lt;PointT&gt;</a> caster (msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a374391e76c0a261cc6c669f8eaeffea0">fields</a>, msg, msg_data, <span class="keyword">reinterpret_cast&lt;</span>std::uint8_t*<span class="keyword">&gt;</span>(cloud.<a class="code" href="classpcl_1_1_point_cloud.html#a02ea96f88e94451f4fd7522d5237474e">data</a>()));</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    for_each_type&lt; typename traits::fieldList&lt;PointT&gt;::type &gt; (caster);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  }</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment">  /** \brief Convert a PCLPointCloud2 binary data blob into a pcl::PointCloud&lt;T&gt; object using a field_map.</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment">    * \param[in] msg the PCLPointCloud2 binary blob</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">    * \param[out] cloud the resultant pcl::PointCloud&lt;T&gt;</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment">    * \param[in] field_map a MsgFieldMap object</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment">    *</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment">    * \note Use fromPCLPointCloud2 (PCLPointCloud2, PointCloud&lt;T&gt;) directly or create you</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">    * own MsgFieldMap using:</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">    *</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">    * \code</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">    * MsgFieldMap field_map;</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">    * createMapping&lt;PointT&gt; (msg.fields, field_map);</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">    * \endcode</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Po<span class="keywordtype">int</span>T&gt; <span class="keywordtype">void</span></div>
<div class="line"><a name="l00309"></a><span class="lineno"><a class="line" href="namespacepcl.html#ad435776e0d3cc620a42468c85ad060b6">  309</a></span>&#160;  <a class="code" href="namespacepcl.html#a5efff81a11f22871306dd047d0b4b5b9">fromPCLPointCloud2</a> (<span class="keyword">const</span> <a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html">pcl::PCLPointCloud2</a>&amp; msg, <a class="code" href="classpcl_1_1_point_cloud.html">pcl::PointCloud&lt;PointT&gt;</a>&amp; cloud,</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;              <span class="keyword">const</span> <a class="code" href="namespacepcl.html#ae716f0bdfbc7ae033006733a42fb6b63">MsgFieldMap</a>&amp; field_map)</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <a class="code" href="namespacepcl.html#a5efff81a11f22871306dd047d0b4b5b9">fromPCLPointCloud2</a> (msg, cloud, field_map, msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#acff4511872a575011926927fea3764b4">data</a>.data());</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  }</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">  /** \brief Convert a PCLPointCloud2 binary data blob into a pcl::PointCloud&lt;T&gt; object.</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">    * \param[in] msg the PCLPointCloud2 binary blob</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment">    * \param[out] cloud the resultant pcl::PointCloud&lt;T&gt;</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> Po<span class="keywordtype">int</span>T&gt; <span class="keywordtype">void</span></div>
<div class="line"><a name="l00320"></a><span class="lineno"><a class="line" href="namespacepcl.html#a89aca82e188e18a7c9a71324e9610ec9">  320</a></span>&#160;  <a class="code" href="namespacepcl.html#a5efff81a11f22871306dd047d0b4b5b9">fromPCLPointCloud2</a> (<span class="keyword">const</span> <a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html">pcl::PCLPointCloud2</a>&amp; msg, <a class="code" href="classpcl_1_1_point_cloud.html">pcl::PointCloud&lt;PointT&gt;</a>&amp; cloud)</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  {</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <a class="code" href="namespacepcl.html#ae716f0bdfbc7ae033006733a42fb6b63">MsgFieldMap</a> field_map;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    createMapping&lt;PointT&gt; (msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a374391e76c0a261cc6c669f8eaeffea0">fields</a>, field_map);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <a class="code" href="namespacepcl.html#a5efff81a11f22871306dd047d0b4b5b9">fromPCLPointCloud2</a> (msg, cloud, field_map);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160; </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="keyword">namespace </span>detail {<span class="comment"></span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">    /** \brief Used together with `pcl::for_each_type`, copies all point fields from `cloud_data` (respecting each field offset) to `msg_data` (tightly packed).</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment">      */</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> Po<span class="keywordtype">int</span>T&gt;</div>
<div class="line"><a name="l00331"></a><span class="lineno"><a class="line" href="structpcl_1_1detail_1_1_field_copier.html">  331</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structpcl_1_1detail_1_1_field_copier.html">FieldCopier</a> {</div>
<div class="line"><a name="l00332"></a><span class="lineno"><a class="line" href="structpcl_1_1detail_1_1_field_copier.html#a42e9eb13cc21bc1dae42231e37ce1dc3">  332</a></span>&#160;      <a class="code" href="structpcl_1_1detail_1_1_field_copier.html#a42e9eb13cc21bc1dae42231e37ce1dc3">FieldCopier</a>(std::uint8_t*&amp; msg_data, <span class="keyword">const</span> std::uint8_t*&amp; cloud_data) : <a class="code" href="structpcl_1_1detail_1_1_field_copier.html#aa83d9f0c7a190de920fb9d0cd4d10f80">msg_data_</a> (msg_data), <a class="code" href="structpcl_1_1detail_1_1_field_copier.html#a46b85c3a3017cca7adcf9f460e4e9407">cloud_data_</a> (cloud_data) {};</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160; </div>
<div class="line"><a name="l00334"></a><span class="lineno"><a class="line" href="structpcl_1_1detail_1_1_field_copier.html#a4f298b30bf357fdf8c88d76f12a63240">  334</a></span>&#160;      <span class="keyword">template</span>&lt;<span class="keyword">typename</span> U&gt; <span class="keywordtype">void</span> <a class="code" href="structpcl_1_1detail_1_1_field_copier.html#a4f298b30bf357fdf8c88d76f12a63240">operator() </a>() {</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        memcpy(<a class="code" href="structpcl_1_1detail_1_1_field_copier.html#aa83d9f0c7a190de920fb9d0cd4d10f80">msg_data_</a>, <a class="code" href="structpcl_1_1detail_1_1_field_copier.html#a46b85c3a3017cca7adcf9f460e4e9407">cloud_data_</a> + pcl::traits::offset&lt;PointT, U&gt;::value, <span class="keyword">sizeof</span>(<span class="keyword">typename</span> pcl::traits::datatype&lt;PointT, U&gt;::type));</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <a class="code" href="structpcl_1_1detail_1_1_field_copier.html#aa83d9f0c7a190de920fb9d0cd4d10f80">msg_data_</a> += <span class="keyword">sizeof</span>(<span class="keyword">typename</span> pcl::traits::datatype&lt;PointT, U&gt;::type);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      }</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160; </div>
<div class="line"><a name="l00339"></a><span class="lineno"><a class="line" href="structpcl_1_1detail_1_1_field_copier.html#aa83d9f0c7a190de920fb9d0cd4d10f80">  339</a></span>&#160;      std::uint8_t*&amp; <a class="code" href="structpcl_1_1detail_1_1_field_copier.html#aa83d9f0c7a190de920fb9d0cd4d10f80">msg_data_</a>;</div>
<div class="line"><a name="l00340"></a><span class="lineno"><a class="line" href="structpcl_1_1detail_1_1_field_copier.html#a46b85c3a3017cca7adcf9f460e4e9407">  340</a></span>&#160;      <span class="keyword">const</span> std::uint8_t*&amp; <a class="code" href="structpcl_1_1detail_1_1_field_copier.html#a46b85c3a3017cca7adcf9f460e4e9407">cloud_data_</a>;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    };</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">    /** \brief Used together with `pcl::for_each_type`, creates list of all fields, and list of size of each field.</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment">      */</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> Po<span class="keywordtype">int</span>T&gt;</div>
<div class="line"><a name="l00346"></a><span class="lineno"><a class="line" href="structpcl_1_1detail_1_1_field_adder_advanced.html">  346</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structpcl_1_1detail_1_1_field_adder_advanced.html">FieldAdderAdvanced</a></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    {</div>
<div class="line"><a name="l00348"></a><span class="lineno"><a class="line" href="structpcl_1_1detail_1_1_field_adder_advanced.html#a13b12bd89808ad0557bf40fd4f52ff40">  348</a></span>&#160;      <a class="code" href="structpcl_1_1detail_1_1_field_adder_advanced.html#a13b12bd89808ad0557bf40fd4f52ff40">FieldAdderAdvanced</a> (std::vector&lt;pcl::PCLPointField&gt;&amp; fields, std::vector&lt;std::size_t&gt;&amp; field_sizes) : <a class="code" href="structpcl_1_1detail_1_1_field_adder_advanced.html#aebc2085020b1d49755fb81d499c4c6aa">fields_</a> (fields), <a class="code" href="structpcl_1_1detail_1_1_field_adder_advanced.html#a7f7cb4508f145018e6c9db536d974fd4">field_sizes_</a> (field_sizes) {};</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160; </div>
<div class="line"><a name="l00350"></a><span class="lineno"><a class="line" href="structpcl_1_1detail_1_1_field_adder_advanced.html#aab01d619594405f6fa9bb7200ce664f6">  350</a></span>&#160;      <span class="keyword">template</span>&lt;<span class="keyword">typename</span> U&gt; <span class="keywordtype">void</span> <a class="code" href="structpcl_1_1detail_1_1_field_adder_advanced.html#aab01d619594405f6fa9bb7200ce664f6">operator() </a>()</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      {</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <a class="code" href="structpcl_1_1_p_c_l_point_field.html">pcl::PCLPointField</a> f;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        f.<a class="code" href="structpcl_1_1_p_c_l_point_field.html#a754f7bd8665ba7912f95b4de4235560f">name</a> = pcl::traits::name&lt;PointT, U&gt;::value;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        f.<a class="code" href="structpcl_1_1_p_c_l_point_field.html#a3c6be2820c8b5cddc01960b56767bcab">offset</a> = pcl::traits::offset&lt;PointT, U&gt;::value;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        f.<a class="code" href="structpcl_1_1_p_c_l_point_field.html#ae0eaa9eb159b2682b3092ab15de0c234">datatype</a> = pcl::traits::datatype&lt;PointT, U&gt;::value;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        f.<a class="code" href="structpcl_1_1_p_c_l_point_field.html#ae14f3365e54d0f272e6648c231fa56ac">count</a> = pcl::traits::datatype&lt;PointT, U&gt;::size;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <a class="code" href="structpcl_1_1detail_1_1_field_adder_advanced.html#aebc2085020b1d49755fb81d499c4c6aa">fields_</a>.push_back (f);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <a class="code" href="structpcl_1_1detail_1_1_field_adder_advanced.html#a7f7cb4508f145018e6c9db536d974fd4">field_sizes_</a>.push_back (<span class="keyword">sizeof</span>(<span class="keyword">typename</span> pcl::traits::datatype&lt;PointT, U&gt;::type)); <span class="comment">// If field is an array, then this is the size of all array elements</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      }</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno"><a class="line" href="structpcl_1_1detail_1_1_field_adder_advanced.html#aebc2085020b1d49755fb81d499c4c6aa">  361</a></span>&#160;      std::vector&lt;pcl::PCLPointField&gt;&amp; <a class="code" href="structpcl_1_1detail_1_1_field_adder_advanced.html#aebc2085020b1d49755fb81d499c4c6aa">fields_</a>;</div>
<div class="line"><a name="l00362"></a><span class="lineno"><a class="line" href="structpcl_1_1detail_1_1_field_adder_advanced.html#a7f7cb4508f145018e6c9db536d974fd4">  362</a></span>&#160;      std::vector&lt;std::size_t&gt;&amp; <a class="code" href="structpcl_1_1detail_1_1_field_adder_advanced.html#a7f7cb4508f145018e6c9db536d974fd4">field_sizes_</a>;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    };</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  } <span class="comment">// namespace detail</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment">  /** \brief Convert a pcl::PointCloud&lt;T&gt; object to a PCLPointCloud2 binary data blob.</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment">    * \param[in] cloud the input pcl::PointCloud&lt;T&gt;</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment">    * \param[out] msg the resultant PCLPointCloud2 binary blob</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment">    * \param[in] padding Many point types have padding to ensure alignment and SIMD compatibility. Setting this to true will copy the padding to the `PCLPointCloud2` (the default in older PCL versions). Setting this to false will make the data blob in `PCLPointCloud2` smaller, while still keeping all information (useful e.g. when sending msg over network or storing it). The amount of padding depends on the point type, and can in some cases be up to 50 percent.</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> Po<span class="keywordtype">int</span>T&gt; <span class="keywordtype">void</span></div>
<div class="line"><a name="l00372"></a><span class="lineno"><a class="line" href="namespacepcl.html#a62c828dd99044427e7962d6c1b3df632">  372</a></span>&#160;  <a class="code" href="namespacepcl.html#a62c828dd99044427e7962d6c1b3df632">toPCLPointCloud2</a> (<span class="keyword">const</span> <a class="code" href="classpcl_1_1_point_cloud.html">pcl::PointCloud&lt;PointT&gt;</a>&amp; cloud, <a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html">pcl::PCLPointCloud2</a>&amp; msg, <span class="keywordtype">bool</span> padding)</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="comment">// Ease the user&#39;s burden on specifying width/height for unorganized datasets</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">if</span> (cloud.<a class="code" href="classpcl_1_1_point_cloud.html#a644dc7161c2e3f23bc4d36d36c58e7b4">width</a> == 0 &amp;&amp; cloud.<a class="code" href="classpcl_1_1_point_cloud.html#a917b6eb0ef204836c56a2334ddd703fe">height</a> == 0)</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a0c8b3840f339205b7ea5c7e292ada348">width</a>  = cloud.<a class="code" href="classpcl_1_1_point_cloud.html#aa3fc6f30bae069ca325b80f60757276e">size</a> ();</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a28a995a6a80bc696bf7b273ee532d1a2">height</a> = 1;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    }</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    {</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      assert (cloud.<a class="code" href="classpcl_1_1_point_cloud.html#aa3fc6f30bae069ca325b80f60757276e">size</a> () == cloud.<a class="code" href="classpcl_1_1_point_cloud.html#a644dc7161c2e3f23bc4d36d36c58e7b4">width</a> * cloud.<a class="code" href="classpcl_1_1_point_cloud.html#a917b6eb0ef204836c56a2334ddd703fe">height</a>);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a28a995a6a80bc696bf7b273ee532d1a2">height</a> = cloud.<a class="code" href="classpcl_1_1_point_cloud.html#a917b6eb0ef204836c56a2334ddd703fe">height</a>;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;      msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a0c8b3840f339205b7ea5c7e292ada348">width</a>  = cloud.<a class="code" href="classpcl_1_1_point_cloud.html#a644dc7161c2e3f23bc4d36d36c58e7b4">width</a>;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    }</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="comment">// Fill fields metadata</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a374391e76c0a261cc6c669f8eaeffea0">fields</a>.clear ();</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    std::vector&lt;std::size_t&gt; field_sizes;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    for_each_type&lt;typename pcl::traits::fieldList&lt;PointT&gt;::type&gt;(<a class="code" href="structpcl_1_1detail_1_1_field_adder_advanced.html">pcl::detail::FieldAdderAdvanced&lt;PointT&gt;</a>(msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a374391e76c0a261cc6c669f8eaeffea0">fields</a>, field_sizes));</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="comment">// Check if padding should be kept, or if the point type does not contain padding (then the single memcpy is faster)</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">if</span> (padding || std::accumulate(field_sizes.begin(), field_sizes.end(), <span class="keyword">static_cast&lt;</span>std::size_t<span class="keyword">&gt;</span>(0)) == <span class="keyword">sizeof</span> (<a class="code" href="structpcl_1_1_point_x_y_z_r_g_b.html">PointT</a>)) {</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;      <span class="comment">// Fill point cloud binary data (padding and all)</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      std::size_t data_size = <span class="keyword">sizeof</span> (<a class="code" href="structpcl_1_1_point_x_y_z_r_g_b.html">PointT</a>) * cloud.<a class="code" href="classpcl_1_1_point_cloud.html#aa3fc6f30bae069ca325b80f60757276e">size</a> ();</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#acff4511872a575011926927fea3764b4">data</a>.resize (data_size);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      <span class="keywordflow">if</span> (data_size)</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        memcpy(msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#acff4511872a575011926927fea3764b4">data</a>.data(), cloud.<a class="code" href="classpcl_1_1_point_cloud.html#a02ea96f88e94451f4fd7522d5237474e">data</a>(), data_size);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;      }</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160; </div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a9e8c0fd863180ae09d94abbec41de7a5">point_step</a> = <span class="keyword">sizeof</span> (<a class="code" href="structpcl_1_1_point_x_y_z_r_g_b.html">PointT</a>);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a4b0a5a0eb0011702ad67bf8e3205cb9d">row_step</a>   = (<span class="keyword">sizeof</span> (<a class="code" href="structpcl_1_1_point_x_y_z_r_g_b.html">PointT</a>) * msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a0c8b3840f339205b7ea5c7e292ada348">width</a>);</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      std::size_t point_size = 0;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      <span class="keywordflow">for</span>(std::size_t i=0; i&lt;msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a374391e76c0a261cc6c669f8eaeffea0">fields</a>.size(); ++i) {</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a374391e76c0a261cc6c669f8eaeffea0">fields</a>[i].offset = point_size; <span class="comment">// Adjust offset when padding is removed</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        point_size += field_sizes[i];</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      }</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#acff4511872a575011926927fea3764b4">data</a>.resize (point_size * cloud.<a class="code" href="classpcl_1_1_point_cloud.html#aa3fc6f30bae069ca325b80f60757276e">size</a>());</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      std::uint8_t* msg_data = &amp;msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#acff4511872a575011926927fea3764b4">data</a>[0];</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      <span class="keyword">const</span> std::uint8_t* cloud_data=<span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>std::uint8_t*<span class="keyword">&gt;</span>(&amp;cloud[0]);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      <span class="keyword">const</span> std::uint8_t* end = cloud_data + <span class="keyword">sizeof</span> (<a class="code" href="structpcl_1_1_point_x_y_z_r_g_b.html">PointT</a>) * cloud.<a class="code" href="classpcl_1_1_point_cloud.html#aa3fc6f30bae069ca325b80f60757276e">size</a> ();</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      <a class="code" href="structpcl_1_1detail_1_1_field_copier.html">pcl::detail::FieldCopier&lt;PointT&gt;</a> copier(msg_data, cloud_data); <span class="comment">// copier takes msg_data and cloud_data as references, so the two are shared</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      <span class="keywordflow">for</span> (; cloud_data&lt;end; cloud_data+=<span class="keyword">sizeof</span>(<a class="code" href="structpcl_1_1_point_x_y_z_r_g_b.html">PointT</a>)) {</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        for_each_type&lt; typename traits::fieldList&lt;PointT&gt;::type &gt; (copier);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      }</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160; </div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a9e8c0fd863180ae09d94abbec41de7a5">point_step</a> = point_size;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a4b0a5a0eb0011702ad67bf8e3205cb9d">row_step</a>   = point_size * msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a0c8b3840f339205b7ea5c7e292ada348">width</a>;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    }</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a635ede67a0140fc22a87988e5b9492bb">header</a>     = cloud.<a class="code" href="classpcl_1_1_point_cloud.html#a82e0be055a617e5e74102ed62712b352">header</a>;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    msg.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a038c13c72c8c4b3280e33833bed7eb1a">is_dense</a>   = cloud.<a class="code" href="classpcl_1_1_point_cloud.html#a3ca88d8ebf6f4f35acbc31cdfb38aa94">is_dense</a>;<span class="comment"></span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment">    /// @todo msg.is_bigendian = ?;</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment"></span>  }</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment">  /** \brief Convert a pcl::PointCloud&lt;T&gt; object to a PCLPointCloud2 binary data blob.</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="comment">    * \param[in] cloud the input pcl::PointCloud&lt;T&gt;</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment">    * \param[out] msg the resultant PCLPointCloud2 binary blob</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> Po<span class="keywordtype">int</span>T&gt; <span class="keywordtype">void</span></div>
<div class="line"><a name="l00430"></a><span class="lineno"><a class="line" href="namespacepcl.html#a71ae5cefc55b6418e1389136c8e8ee96">  430</a></span>&#160;  <a class="code" href="namespacepcl.html#a62c828dd99044427e7962d6c1b3df632">toPCLPointCloud2</a> (<span class="keyword">const</span> <a class="code" href="classpcl_1_1_point_cloud.html">pcl::PointCloud&lt;PointT&gt;</a>&amp; cloud, <a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html">pcl::PCLPointCloud2</a>&amp; msg)</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  {</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <a class="code" href="namespacepcl.html#a62c828dd99044427e7962d6c1b3df632">toPCLPointCloud2</a> (cloud, msg, <span class="keyword">true</span>); <span class="comment">// true is the default in older PCL version</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  }</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="comment">   /** \brief Copy the RGB fields of a PointCloud into pcl::PCLImage format</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment">     * \param[in] cloud the point cloud message</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment">     * \param[out] msg the resultant pcl::PCLImage</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment">     * CloudT cloud type, CloudT should be akin to pcl::PointCloud&lt;pcl::PointXYZRGBA&gt;</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment">     * \note will throw std::runtime_error if there is a problem</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> CloudT&gt; <span class="keywordtype">void</span></div>
<div class="line"><a name="l00442"></a><span class="lineno"><a class="line" href="namespacepcl.html#acac1ad597aa12ea57af7b3095abf30f7">  442</a></span>&#160;  <a class="code" href="namespacepcl.html#a62c828dd99044427e7962d6c1b3df632">toPCLPointCloud2</a> (<span class="keyword">const</span> CloudT&amp; cloud, <a class="code" href="structpcl_1_1_p_c_l_image.html">pcl::PCLImage</a>&amp; msg)</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  {</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="comment">// Ease the user&#39;s burden on specifying width/height for unorganized datasets</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="keywordflow">if</span> (cloud.width == 0 &amp;&amp; cloud.height == 0)</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Needs to be a dense like cloud!!&quot;</span>);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    {</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;      <span class="keywordflow">if</span> (cloud.size () != cloud.width * cloud.height)</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;The width and height do not match the cloud size!&quot;</span>);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;      msg.<a class="code" href="structpcl_1_1_p_c_l_image.html#a4ef94d3c7e81ce7afa73f3bf5d5e4f3d">height</a> = cloud.height;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      msg.<a class="code" href="structpcl_1_1_p_c_l_image.html#aaa638de641d5260adbdea7827b6085d1">width</a> = cloud.width;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    }</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160; </div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="comment">// ensor_msgs::image_encodings::BGR8;</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    msg.<a class="code" href="structpcl_1_1_p_c_l_image.html#ae2193bd74acbb40441ed7b4207f9783d">header</a> = cloud.header;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    msg.<a class="code" href="structpcl_1_1_p_c_l_image.html#a7d4d74320c5105fadb53bceb5f12d55b">encoding</a> = <span class="stringliteral">&quot;bgr8&quot;</span>;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    msg.<a class="code" href="structpcl_1_1_p_c_l_image.html#a232de2766b94b536f79f58b35f0532ae">step</a> = msg.<a class="code" href="structpcl_1_1_p_c_l_image.html#aaa638de641d5260adbdea7827b6085d1">width</a> * <span class="keyword">sizeof</span> (std::uint8_t) * 3;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    msg.<a class="code" href="structpcl_1_1_p_c_l_image.html#a9d7a5d82db56641b93d250a61e4d2715">data</a>.resize (msg.<a class="code" href="structpcl_1_1_p_c_l_image.html#a232de2766b94b536f79f58b35f0532ae">step</a> * msg.<a class="code" href="structpcl_1_1_p_c_l_image.html#a4ef94d3c7e81ce7afa73f3bf5d5e4f3d">height</a>);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keywordflow">for</span> (std::size_t y = 0; y &lt; cloud.height; y++)</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    {</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      <span class="keywordflow">for</span> (std::size_t x = 0; x &lt; cloud.width; x++)</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      {</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        std::uint8_t * pixel = &amp;(msg.<a class="code" href="structpcl_1_1_p_c_l_image.html#a9d7a5d82db56641b93d250a61e4d2715">data</a>[y * msg.<a class="code" href="structpcl_1_1_p_c_l_image.html#a232de2766b94b536f79f58b35f0532ae">step</a> + x * 3]);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        memcpy (pixel, &amp;cloud (x, y).rgb, 3 * <span class="keyword">sizeof</span>(std::uint8_t));</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      }</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    }</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  }</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment">  /** \brief Copy the RGB fields of a PCLPointCloud2 msg into pcl::PCLImage format</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="comment">    * \param cloud the point cloud message</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment">    * \param msg the resultant pcl::PCLImage</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="comment">    * will throw std::runtime_error if there is a problem</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l00476"></a><span class="lineno"><a class="line" href="namespacepcl.html#ad27d2fbd536cc9ea7cf83412ce71db08">  476</a></span>&#160;  <a class="code" href="namespacepcl.html#a62c828dd99044427e7962d6c1b3df632">toPCLPointCloud2</a> (<span class="keyword">const</span> <a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html">pcl::PCLPointCloud2</a>&amp; cloud, <a class="code" href="structpcl_1_1_p_c_l_image.html">pcl::PCLImage</a>&amp; msg)</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  {</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> predicate = [](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; field) { <span class="keywordflow">return</span> field.name == <span class="stringliteral">&quot;rgb&quot;</span>; };</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> result = std::find_if(cloud.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a374391e76c0a261cc6c669f8eaeffea0">fields</a>.cbegin (), cloud.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a374391e76c0a261cc6c669f8eaeffea0">fields</a>.cend (), predicate);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keywordflow">if</span> (result == cloud.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a374391e76c0a261cc6c669f8eaeffea0">fields</a>.end ())</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      <span class="keywordflow">throw</span> std::runtime_error (<span class="stringliteral">&quot;No rgb field!!&quot;</span>);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160; </div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> rgb_index = <a class="code" href="namespacepcl_1_1geometry.html#a2fc89f0c26b7c7377fcd2851fa933b87">std::distance</a>(cloud.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a374391e76c0a261cc6c669f8eaeffea0">fields</a>.begin (), result);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keywordflow">if</span> (cloud.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a0c8b3840f339205b7ea5c7e292ada348">width</a> == 0 &amp;&amp; cloud.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a28a995a6a80bc696bf7b273ee532d1a2">height</a> == 0)</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      <span class="keywordflow">throw</span> std::runtime_error (<span class="stringliteral">&quot;Needs to be a dense like cloud!!&quot;</span>);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    {</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      msg.<a class="code" href="structpcl_1_1_p_c_l_image.html#a4ef94d3c7e81ce7afa73f3bf5d5e4f3d">height</a> = cloud.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a28a995a6a80bc696bf7b273ee532d1a2">height</a>;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      msg.<a class="code" href="structpcl_1_1_p_c_l_image.html#aaa638de641d5260adbdea7827b6085d1">width</a> = cloud.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a0c8b3840f339205b7ea5c7e292ada348">width</a>;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    }</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keyword">auto</span> rgb_offset = cloud.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a374391e76c0a261cc6c669f8eaeffea0">fields</a>[rgb_index].offset;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> point_step = cloud.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a9e8c0fd863180ae09d94abbec41de7a5">point_step</a>;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160; </div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="comment">// pcl::image_encodings::BGR8;</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    msg.<a class="code" href="structpcl_1_1_p_c_l_image.html#ae2193bd74acbb40441ed7b4207f9783d">header</a> = cloud.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a635ede67a0140fc22a87988e5b9492bb">header</a>;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    msg.<a class="code" href="structpcl_1_1_p_c_l_image.html#a7d4d74320c5105fadb53bceb5f12d55b">encoding</a> = <span class="stringliteral">&quot;bgr8&quot;</span>;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    msg.<a class="code" href="structpcl_1_1_p_c_l_image.html#a232de2766b94b536f79f58b35f0532ae">step</a> = (msg.<a class="code" href="structpcl_1_1_p_c_l_image.html#aaa638de641d5260adbdea7827b6085d1">width</a> * <span class="keyword">sizeof</span> (std::uint8_t) * 3);</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    msg.<a class="code" href="structpcl_1_1_p_c_l_image.html#a9d7a5d82db56641b93d250a61e4d2715">data</a>.resize (msg.<a class="code" href="structpcl_1_1_p_c_l_image.html#a232de2766b94b536f79f58b35f0532ae">step</a> * msg.<a class="code" href="structpcl_1_1_p_c_l_image.html#a4ef94d3c7e81ce7afa73f3bf5d5e4f3d">height</a>);</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160; </div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordflow">for</span> (std::size_t y = 0; y &lt; cloud.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a28a995a6a80bc696bf7b273ee532d1a2">height</a>; y++)</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    {</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;      <span class="keywordflow">for</span> (std::size_t x = 0; x &lt; cloud.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#a0c8b3840f339205b7ea5c7e292ada348">width</a>; x++, rgb_offset += point_step)</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;      {</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        std::uint8_t * pixel = &amp;(msg.<a class="code" href="structpcl_1_1_p_c_l_image.html#a9d7a5d82db56641b93d250a61e4d2715">data</a>[y * msg.<a class="code" href="structpcl_1_1_p_c_l_image.html#a232de2766b94b536f79f58b35f0532ae">step</a> + x * 3]);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        std::copy(&amp;cloud.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#acff4511872a575011926927fea3764b4">data</a>[rgb_offset], &amp;cloud.<a class="code" href="structpcl_1_1_p_c_l_point_cloud2.html#acff4511872a575011926927fea3764b4">data</a>[rgb_offset] + 3, pixel);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;      }</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    }</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  }</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;}</div>
<div class="ttc" id="aclasspcl_1_1_point_cloud_html"><div class="ttname"><a href="classpcl_1_1_point_cloud.html">pcl::PointCloud</a></div><div class="ttdoc">PointCloud represents the base class in PCL for storing collections of 3D points.</div><div class="ttdef"><b>Definition:</b> <a href="common_2include_2pcl_2point__cloud_8h_source.html#l00172">point_cloud.h:173</a></div></div>
<div class="ttc" id="aclasspcl_1_1_point_cloud_html_a02ea96f88e94451f4fd7522d5237474e"><div class="ttname"><a href="classpcl_1_1_point_cloud.html#a02ea96f88e94451f4fd7522d5237474e">pcl::PointCloud::data</a></div><div class="ttdeci">PointT * data() noexcept</div><div class="ttdef"><b>Definition:</b> <a href="common_2include_2pcl_2point__cloud_8h_source.html#l00447">point_cloud.h:447</a></div></div>
<div class="ttc" id="aclasspcl_1_1_point_cloud_html_a3ca88d8ebf6f4f35acbc31cdfb38aa94"><div class="ttname"><a href="classpcl_1_1_point_cloud.html#a3ca88d8ebf6f4f35acbc31cdfb38aa94">pcl::PointCloud::is_dense</a></div><div class="ttdeci">bool is_dense</div><div class="ttdoc">True if no points are invalid (e.g., have NaN or Inf values in any of their floating point fields).</div><div class="ttdef"><b>Definition:</b> <a href="common_2include_2pcl_2point__cloud_8h_source.html#l00403">point_cloud.h:403</a></div></div>
<div class="ttc" id="aclasspcl_1_1_point_cloud_html_a552575b03243c7f5d95bb03c59842238"><div class="ttname"><a href="classpcl_1_1_point_cloud.html#a552575b03243c7f5d95bb03c59842238">pcl::PointCloud::resize</a></div><div class="ttdeci">void resize(std::size_t count)</div><div class="ttdoc">Resizes the container to contain count elements.</div><div class="ttdef"><b>Definition:</b> <a href="common_2include_2pcl_2point__cloud_8h_source.html#l00462">point_cloud.h:462</a></div></div>
<div class="ttc" id="aclasspcl_1_1_point_cloud_html_a644dc7161c2e3f23bc4d36d36c58e7b4"><div class="ttname"><a href="classpcl_1_1_point_cloud.html#a644dc7161c2e3f23bc4d36d36c58e7b4">pcl::PointCloud::width</a></div><div class="ttdeci">std::uint32_t width</div><div class="ttdoc">The point cloud width (if organized as an image-structure).</div><div class="ttdef"><b>Definition:</b> <a href="common_2include_2pcl_2point__cloud_8h_source.html#l00398">point_cloud.h:398</a></div></div>
<div class="ttc" id="aclasspcl_1_1_point_cloud_html_a82e0be055a617e5e74102ed62712b352"><div class="ttname"><a href="classpcl_1_1_point_cloud.html#a82e0be055a617e5e74102ed62712b352">pcl::PointCloud::header</a></div><div class="ttdeci">pcl::PCLHeader header</div><div class="ttdoc">The point cloud header.</div><div class="ttdef"><b>Definition:</b> <a href="common_2include_2pcl_2point__cloud_8h_source.html#l00392">point_cloud.h:392</a></div></div>
<div class="ttc" id="aclasspcl_1_1_point_cloud_html_a917b6eb0ef204836c56a2334ddd703fe"><div class="ttname"><a href="classpcl_1_1_point_cloud.html#a917b6eb0ef204836c56a2334ddd703fe">pcl::PointCloud::height</a></div><div class="ttdeci">std::uint32_t height</div><div class="ttdoc">The point cloud height (if organized as an image-structure).</div><div class="ttdef"><b>Definition:</b> <a href="common_2include_2pcl_2point__cloud_8h_source.html#l00400">point_cloud.h:400</a></div></div>
<div class="ttc" id="aclasspcl_1_1_point_cloud_html_aa3fc6f30bae069ca325b80f60757276e"><div class="ttname"><a href="classpcl_1_1_point_cloud.html#aa3fc6f30bae069ca325b80f60757276e">pcl::PointCloud::size</a></div><div class="ttdeci">std::size_t size() const</div><div class="ttdef"><b>Definition:</b> <a href="common_2include_2pcl_2point__cloud_8h_source.html#l00443">point_cloud.h:443</a></div></div>
<div class="ttc" id="anamespacepcl_1_1detail_html_a24fe4be3441cd38cc1f9a8017bdd715f"><div class="ttname"><a href="namespacepcl_1_1detail.html#a24fe4be3441cd38cc1f9a8017bdd715f">pcl::detail::fieldOrdering</a></div><div class="ttdeci">bool fieldOrdering(const FieldMapping &amp;a, const FieldMapping &amp;b)</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8h_source.html#l00116">conversions.h:116</a></div></div>
<div class="ttc" id="anamespacepcl_1_1geometry_html_a2fc89f0c26b7c7377fcd2851fa933b87"><div class="ttname"><a href="namespacepcl_1_1geometry.html#a2fc89f0c26b7c7377fcd2851fa933b87">pcl::geometry::distance</a></div><div class="ttdeci">float distance(const PointT &amp;p1, const PointT &amp;p2)</div><div class="ttdef"><b>Definition:</b> <a href="common_2include_2pcl_2common_2geometry_8h_source.html#l00060">geometry.h:60</a></div></div>
<div class="ttc" id="anamespacepcl_html"><div class="ttname"><a href="namespacepcl.html">pcl</a></div><div class="ttdef"><b>Definition:</b> <a href="2d_2include_2pcl_22d_2convolution_8h_source.html#l00046">convolution.h:46</a></div></div>
<div class="ttc" id="anamespacepcl_html_a1b98b7f9535916d9dffec6d425d2eed9"><div class="ttname"><a href="namespacepcl.html#a1b98b7f9535916d9dffec6d425d2eed9">pcl::uindex_t</a></div><div class="ttdeci">detail::int_type_t&lt; detail::index_type_size, false &gt; uindex_t</div><div class="ttdoc">Type used for an unsigned index in PCL.</div><div class="ttdef"><b>Definition:</b> <a href="types_8h_source.html#l00120">types.h:120</a></div></div>
<div class="ttc" id="anamespacepcl_html_a5efff81a11f22871306dd047d0b4b5b9"><div class="ttname"><a href="namespacepcl.html#a5efff81a11f22871306dd047d0b4b5b9">pcl::fromPCLPointCloud2</a></div><div class="ttdeci">void fromPCLPointCloud2(const pcl::PCLPointCloud2 &amp;msg, pcl::PointCloud&lt; PointT &gt; &amp;cloud, const MsgFieldMap &amp;field_map, const std::uint8_t *msg_data)</div><div class="ttdoc">Convert a PCLPointCloud2 binary data blob into a pcl::PointCloud&lt;T&gt; object using a field_map.</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8h_source.html#l00229">conversions.h:229</a></div></div>
<div class="ttc" id="anamespacepcl_html_a62c828dd99044427e7962d6c1b3df632"><div class="ttname"><a href="namespacepcl.html#a62c828dd99044427e7962d6c1b3df632">pcl::toPCLPointCloud2</a></div><div class="ttdeci">void toPCLPointCloud2(const pcl::PointCloud&lt; PointT &gt; &amp;cloud, pcl::PCLPointCloud2 &amp;msg, bool padding)</div><div class="ttdoc">Convert a pcl::PointCloud&lt;T&gt; object to a PCLPointCloud2 binary data blob.</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8h_source.html#l00372">conversions.h:372</a></div></div>
<div class="ttc" id="anamespacepcl_html_a8b1e6bf082a51cc2d633495a03a18a6a"><div class="ttname"><a href="namespacepcl.html#a8b1e6bf082a51cc2d633495a03a18a6a">pcl::createMapping</a></div><div class="ttdeci">void createMapping(const std::vector&lt; pcl::PCLPointField &gt; &amp;msg_fields, MsgFieldMap &amp;field_map)</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8h_source.html#l00189">conversions.h:189</a></div></div>
<div class="ttc" id="anamespacepcl_html_ae716f0bdfbc7ae033006733a42fb6b63"><div class="ttname"><a href="namespacepcl.html#ae716f0bdfbc7ae033006733a42fb6b63">pcl::MsgFieldMap</a></div><div class="ttdeci">std::vector&lt; detail::FieldMapping &gt; MsgFieldMap</div><div class="ttdef"><b>Definition:</b> <a href="common_2include_2pcl_2point__cloud_8h_source.html#l00072">point_cloud.h:72</a></div></div>
<div class="ttc" id="astructpcl_1_1_field_matches_html"><div class="ttname"><a href="structpcl_1_1_field_matches.html">pcl::FieldMatches</a></div><div class="ttdef"><b>Definition:</b> <a href="_p_c_l_point_field_8h_source.html#l00069">PCLPointField.h:70</a></div></div>
<div class="ttc" id="astructpcl_1_1_p_c_l_image_html"><div class="ttname"><a href="structpcl_1_1_p_c_l_image.html">pcl::PCLImage</a></div><div class="ttdef"><b>Definition:</b> <a href="_p_c_l_image_8h_source.html#l00012">PCLImage.h:13</a></div></div>
<div class="ttc" id="astructpcl_1_1_p_c_l_image_html_a232de2766b94b536f79f58b35f0532ae"><div class="ttname"><a href="structpcl_1_1_p_c_l_image.html#a232de2766b94b536f79f58b35f0532ae">pcl::PCLImage::step</a></div><div class="ttdeci">uindex_t step</div><div class="ttdef"><b>Definition:</b> <a href="_p_c_l_image_8h_source.html#l00021">PCLImage.h:21</a></div></div>
<div class="ttc" id="astructpcl_1_1_p_c_l_image_html_a4ef94d3c7e81ce7afa73f3bf5d5e4f3d"><div class="ttname"><a href="structpcl_1_1_p_c_l_image.html#a4ef94d3c7e81ce7afa73f3bf5d5e4f3d">pcl::PCLImage::height</a></div><div class="ttdeci">uindex_t height</div><div class="ttdef"><b>Definition:</b> <a href="_p_c_l_image_8h_source.html#l00016">PCLImage.h:16</a></div></div>
<div class="ttc" id="astructpcl_1_1_p_c_l_image_html_a7d4d74320c5105fadb53bceb5f12d55b"><div class="ttname"><a href="structpcl_1_1_p_c_l_image.html#a7d4d74320c5105fadb53bceb5f12d55b">pcl::PCLImage::encoding</a></div><div class="ttdeci">std::string encoding</div><div class="ttdef"><b>Definition:</b> <a href="_p_c_l_image_8h_source.html#l00018">PCLImage.h:18</a></div></div>
<div class="ttc" id="astructpcl_1_1_p_c_l_image_html_a9d7a5d82db56641b93d250a61e4d2715"><div class="ttname"><a href="structpcl_1_1_p_c_l_image.html#a9d7a5d82db56641b93d250a61e4d2715">pcl::PCLImage::data</a></div><div class="ttdeci">std::vector&lt; std::uint8_t &gt; data</div><div class="ttdef"><b>Definition:</b> <a href="_p_c_l_image_8h_source.html#l00023">PCLImage.h:23</a></div></div>
<div class="ttc" id="astructpcl_1_1_p_c_l_image_html_aaa638de641d5260adbdea7827b6085d1"><div class="ttname"><a href="structpcl_1_1_p_c_l_image.html#aaa638de641d5260adbdea7827b6085d1">pcl::PCLImage::width</a></div><div class="ttdeci">uindex_t width</div><div class="ttdef"><b>Definition:</b> <a href="_p_c_l_image_8h_source.html#l00017">PCLImage.h:17</a></div></div>
<div class="ttc" id="astructpcl_1_1_p_c_l_image_html_ae2193bd74acbb40441ed7b4207f9783d"><div class="ttname"><a href="structpcl_1_1_p_c_l_image.html#ae2193bd74acbb40441ed7b4207f9783d">pcl::PCLImage::header</a></div><div class="ttdeci">::pcl::PCLHeader header</div><div class="ttdef"><b>Definition:</b> <a href="_p_c_l_image_8h_source.html#l00014">PCLImage.h:14</a></div></div>
<div class="ttc" id="astructpcl_1_1_p_c_l_point_cloud2_html"><div class="ttname"><a href="structpcl_1_1_p_c_l_point_cloud2.html">pcl::PCLPointCloud2</a></div><div class="ttdef"><b>Definition:</b> <a href="_p_c_l_point_cloud2_8h_source.html#l00016">PCLPointCloud2.h:17</a></div></div>
<div class="ttc" id="astructpcl_1_1_p_c_l_point_cloud2_html_a038c13c72c8c4b3280e33833bed7eb1a"><div class="ttname"><a href="structpcl_1_1_p_c_l_point_cloud2.html#a038c13c72c8c4b3280e33833bed7eb1a">pcl::PCLPointCloud2::is_dense</a></div><div class="ttdeci">std::uint8_t is_dense</div><div class="ttdef"><b>Definition:</b> <a href="_p_c_l_point_cloud2_8h_source.html#l00032">PCLPointCloud2.h:32</a></div></div>
<div class="ttc" id="astructpcl_1_1_p_c_l_point_cloud2_html_a0c8b3840f339205b7ea5c7e292ada348"><div class="ttname"><a href="structpcl_1_1_p_c_l_point_cloud2.html#a0c8b3840f339205b7ea5c7e292ada348">pcl::PCLPointCloud2::width</a></div><div class="ttdeci">uindex_t width</div><div class="ttdef"><b>Definition:</b> <a href="_p_c_l_point_cloud2_8h_source.html#l00021">PCLPointCloud2.h:21</a></div></div>
<div class="ttc" id="astructpcl_1_1_p_c_l_point_cloud2_html_a28a995a6a80bc696bf7b273ee532d1a2"><div class="ttname"><a href="structpcl_1_1_p_c_l_point_cloud2.html#a28a995a6a80bc696bf7b273ee532d1a2">pcl::PCLPointCloud2::height</a></div><div class="ttdeci">uindex_t height</div><div class="ttdef"><b>Definition:</b> <a href="_p_c_l_point_cloud2_8h_source.html#l00020">PCLPointCloud2.h:20</a></div></div>
<div class="ttc" id="astructpcl_1_1_p_c_l_point_cloud2_html_a374391e76c0a261cc6c669f8eaeffea0"><div class="ttname"><a href="structpcl_1_1_p_c_l_point_cloud2.html#a374391e76c0a261cc6c669f8eaeffea0">pcl::PCLPointCloud2::fields</a></div><div class="ttdeci">std::vector&lt;::pcl::PCLPointField &gt; fields</div><div class="ttdef"><b>Definition:</b> <a href="_p_c_l_point_cloud2_8h_source.html#l00023">PCLPointCloud2.h:23</a></div></div>
<div class="ttc" id="astructpcl_1_1_p_c_l_point_cloud2_html_a4b0a5a0eb0011702ad67bf8e3205cb9d"><div class="ttname"><a href="structpcl_1_1_p_c_l_point_cloud2.html#a4b0a5a0eb0011702ad67bf8e3205cb9d">pcl::PCLPointCloud2::row_step</a></div><div class="ttdeci">uindex_t row_step</div><div class="ttdef"><b>Definition:</b> <a href="_p_c_l_point_cloud2_8h_source.html#l00028">PCLPointCloud2.h:28</a></div></div>
<div class="ttc" id="astructpcl_1_1_p_c_l_point_cloud2_html_a635ede67a0140fc22a87988e5b9492bb"><div class="ttname"><a href="structpcl_1_1_p_c_l_point_cloud2.html#a635ede67a0140fc22a87988e5b9492bb">pcl::PCLPointCloud2::header</a></div><div class="ttdeci">::pcl::PCLHeader header</div><div class="ttdef"><b>Definition:</b> <a href="_p_c_l_point_cloud2_8h_source.html#l00018">PCLPointCloud2.h:18</a></div></div>
<div class="ttc" id="astructpcl_1_1_p_c_l_point_cloud2_html_a9e8c0fd863180ae09d94abbec41de7a5"><div class="ttname"><a href="structpcl_1_1_p_c_l_point_cloud2.html#a9e8c0fd863180ae09d94abbec41de7a5">pcl::PCLPointCloud2::point_step</a></div><div class="ttdeci">uindex_t point_step</div><div class="ttdef"><b>Definition:</b> <a href="_p_c_l_point_cloud2_8h_source.html#l00027">PCLPointCloud2.h:27</a></div></div>
<div class="ttc" id="astructpcl_1_1_p_c_l_point_cloud2_html_acff4511872a575011926927fea3764b4"><div class="ttname"><a href="structpcl_1_1_p_c_l_point_cloud2.html#acff4511872a575011926927fea3764b4">pcl::PCLPointCloud2::data</a></div><div class="ttdeci">std::vector&lt; std::uint8_t &gt; data</div><div class="ttdef"><b>Definition:</b> <a href="_p_c_l_point_cloud2_8h_source.html#l00030">PCLPointCloud2.h:30</a></div></div>
<div class="ttc" id="astructpcl_1_1_p_c_l_point_field_html"><div class="ttname"><a href="structpcl_1_1_p_c_l_point_field.html">pcl::PCLPointField</a></div><div class="ttdef"><b>Definition:</b> <a href="_p_c_l_point_field_8h_source.html#l00012">PCLPointField.h:13</a></div></div>
<div class="ttc" id="astructpcl_1_1_p_c_l_point_field_html_a3c6be2820c8b5cddc01960b56767bcab"><div class="ttname"><a href="structpcl_1_1_p_c_l_point_field.html#a3c6be2820c8b5cddc01960b56767bcab">pcl::PCLPointField::offset</a></div><div class="ttdeci">uindex_t offset</div><div class="ttdef"><b>Definition:</b> <a href="_p_c_l_point_field_8h_source.html#l00016">PCLPointField.h:16</a></div></div>
<div class="ttc" id="astructpcl_1_1_p_c_l_point_field_html_a754f7bd8665ba7912f95b4de4235560f"><div class="ttname"><a href="structpcl_1_1_p_c_l_point_field.html#a754f7bd8665ba7912f95b4de4235560f">pcl::PCLPointField::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition:</b> <a href="_p_c_l_point_field_8h_source.html#l00014">PCLPointField.h:14</a></div></div>
<div class="ttc" id="astructpcl_1_1_p_c_l_point_field_html_ae0eaa9eb159b2682b3092ab15de0c234"><div class="ttname"><a href="structpcl_1_1_p_c_l_point_field.html#ae0eaa9eb159b2682b3092ab15de0c234">pcl::PCLPointField::datatype</a></div><div class="ttdeci">std::uint8_t datatype</div><div class="ttdef"><b>Definition:</b> <a href="_p_c_l_point_field_8h_source.html#l00017">PCLPointField.h:17</a></div></div>
<div class="ttc" id="astructpcl_1_1_p_c_l_point_field_html_ae14f3365e54d0f272e6648c231fa56ac"><div class="ttname"><a href="structpcl_1_1_p_c_l_point_field.html#ae14f3365e54d0f272e6648c231fa56ac">pcl::PCLPointField::count</a></div><div class="ttdeci">uindex_t count</div><div class="ttdef"><b>Definition:</b> <a href="_p_c_l_point_field_8h_source.html#l00018">PCLPointField.h:18</a></div></div>
<div class="ttc" id="astructpcl_1_1_point_x_y_z_r_g_b_html"><div class="ttname"><a href="structpcl_1_1_point_x_y_z_r_g_b.html">pcl::PointXYZRGB</a></div><div class="ttdoc">A point structure representing Euclidean xyz coordinates, and the RGB color.</div><div class="ttdef"><b>Definition:</b> <a href="point__types_8hpp_source.html#l00593">point_types.hpp:594</a></div></div>
<div class="ttc" id="astructpcl_1_1detail_1_1_field_adder_advanced_html"><div class="ttname"><a href="structpcl_1_1detail_1_1_field_adder_advanced.html">pcl::detail::FieldAdderAdvanced</a></div><div class="ttdoc">Used together with pcl::for_each_type, creates list of all fields, and list of size of each field.</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8h_source.html#l00346">conversions.h:347</a></div></div>
<div class="ttc" id="astructpcl_1_1detail_1_1_field_adder_advanced_html_a13b12bd89808ad0557bf40fd4f52ff40"><div class="ttname"><a href="structpcl_1_1detail_1_1_field_adder_advanced.html#a13b12bd89808ad0557bf40fd4f52ff40">pcl::detail::FieldAdderAdvanced::FieldAdderAdvanced</a></div><div class="ttdeci">FieldAdderAdvanced(std::vector&lt; pcl::PCLPointField &gt; &amp;fields, std::vector&lt; std::size_t &gt; &amp;field_sizes)</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8h_source.html#l00348">conversions.h:348</a></div></div>
<div class="ttc" id="astructpcl_1_1detail_1_1_field_adder_advanced_html_a7f7cb4508f145018e6c9db536d974fd4"><div class="ttname"><a href="structpcl_1_1detail_1_1_field_adder_advanced.html#a7f7cb4508f145018e6c9db536d974fd4">pcl::detail::FieldAdderAdvanced::field_sizes_</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; &amp; field_sizes_</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8h_source.html#l00362">conversions.h:362</a></div></div>
<div class="ttc" id="astructpcl_1_1detail_1_1_field_adder_advanced_html_aab01d619594405f6fa9bb7200ce664f6"><div class="ttname"><a href="structpcl_1_1detail_1_1_field_adder_advanced.html#aab01d619594405f6fa9bb7200ce664f6">pcl::detail::FieldAdderAdvanced::operator()</a></div><div class="ttdeci">void operator()()</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8h_source.html#l00350">conversions.h:350</a></div></div>
<div class="ttc" id="astructpcl_1_1detail_1_1_field_adder_advanced_html_aebc2085020b1d49755fb81d499c4c6aa"><div class="ttname"><a href="structpcl_1_1detail_1_1_field_adder_advanced.html#aebc2085020b1d49755fb81d499c4c6aa">pcl::detail::FieldAdderAdvanced::fields_</a></div><div class="ttdeci">std::vector&lt; pcl::PCLPointField &gt; &amp; fields_</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8h_source.html#l00361">conversions.h:361</a></div></div>
<div class="ttc" id="astructpcl_1_1detail_1_1_field_adder_html"><div class="ttname"><a href="structpcl_1_1detail_1_1_field_adder.html">pcl::detail::FieldAdder</a></div><div class="ttdef"><b>Definition:</b> <a href="conversions_8h_source.html#l00064">conversions.h:65</a></div></div>
<div class="ttc" id="astructpcl_1_1detail_1_1_field_adder_html_a0a4556491969a374b8a8f937f8b4931c"><div class="ttname"><a href="structpcl_1_1detail_1_1_field_adder.html#a0a4556491969a374b8a8f937f8b4931c">pcl::detail::FieldAdder::FieldAdder</a></div><div class="ttdeci">FieldAdder(std::vector&lt; pcl::PCLPointField &gt; &amp;fields)</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8h_source.html#l00066">conversions.h:66</a></div></div>
<div class="ttc" id="astructpcl_1_1detail_1_1_field_adder_html_ac7d11b069c15e8abee57c3eebc4e80e9"><div class="ttname"><a href="structpcl_1_1detail_1_1_field_adder.html#ac7d11b069c15e8abee57c3eebc4e80e9">pcl::detail::FieldAdder::fields_</a></div><div class="ttdeci">std::vector&lt; pcl::PCLPointField &gt; &amp; fields_</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8h_source.html#l00078">conversions.h:78</a></div></div>
<div class="ttc" id="astructpcl_1_1detail_1_1_field_adder_html_ad93704b43733425a5b2322b97da91d83"><div class="ttname"><a href="structpcl_1_1detail_1_1_field_adder.html#ad93704b43733425a5b2322b97da91d83">pcl::detail::FieldAdder::operator()</a></div><div class="ttdeci">void operator()()</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8h_source.html#l00068">conversions.h:68</a></div></div>
<div class="ttc" id="astructpcl_1_1detail_1_1_field_caster_html"><div class="ttname"><a href="structpcl_1_1detail_1_1_field_caster.html">pcl::detail::FieldCaster</a></div><div class="ttdef"><b>Definition:</b> <a href="conversions_8h_source.html#l00123">conversions.h:124</a></div></div>
<div class="ttc" id="astructpcl_1_1detail_1_1_field_caster_html_a001be43a2acf1d588ae42c5c7d159bb5"><div class="ttname"><a href="structpcl_1_1detail_1_1_field_caster.html#a001be43a2acf1d588ae42c5c7d159bb5">pcl::detail::FieldCaster::cloud_data_</a></div><div class="ttdeci">std::uint8_t * cloud_data_</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8h_source.html#l00184">conversions.h:184</a></div></div>
<div class="ttc" id="astructpcl_1_1detail_1_1_field_caster_html_a0d1eefdfa6fa9b03e99ce290dfa669da"><div class="ttname"><a href="structpcl_1_1detail_1_1_field_caster.html#a0d1eefdfa6fa9b03e99ce290dfa669da">pcl::detail::FieldCaster::msg_</a></div><div class="ttdeci">const pcl::PCLPointCloud2 &amp; msg_</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8h_source.html#l00182">conversions.h:182</a></div></div>
<div class="ttc" id="astructpcl_1_1detail_1_1_field_caster_html_a9be002c1b67e68868c4d1ad2c748eb68"><div class="ttname"><a href="structpcl_1_1detail_1_1_field_caster.html#a9be002c1b67e68868c4d1ad2c748eb68">pcl::detail::FieldCaster::msg_data_</a></div><div class="ttdeci">const std::uint8_t * msg_data_</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8h_source.html#l00183">conversions.h:183</a></div></div>
<div class="ttc" id="astructpcl_1_1detail_1_1_field_caster_html_ad4c7b7f82a146783b72d272b1ab31eaf"><div class="ttname"><a href="structpcl_1_1detail_1_1_field_caster.html#ad4c7b7f82a146783b72d272b1ab31eaf">pcl::detail::FieldCaster::FieldCaster</a></div><div class="ttdeci">FieldCaster(const std::vector&lt; pcl::PCLPointField &gt; &amp;fields, const pcl::PCLPointCloud2 &amp;msg, const std::uint8_t *msg_data, std::uint8_t *cloud_data)</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8h_source.html#l00125">conversions.h:125</a></div></div>
<div class="ttc" id="astructpcl_1_1detail_1_1_field_caster_html_addaf333934bf15f54affa65ae73ae43f"><div class="ttname"><a href="structpcl_1_1detail_1_1_field_caster.html#addaf333934bf15f54affa65ae73ae43f">pcl::detail::FieldCaster::operator()</a></div><div class="ttdeci">void operator()()</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8h_source.html#l00130">conversions.h:130</a></div></div>
<div class="ttc" id="astructpcl_1_1detail_1_1_field_caster_html_af3062419313b30d333739475e49af832"><div class="ttname"><a href="structpcl_1_1detail_1_1_field_caster.html#af3062419313b30d333739475e49af832">pcl::detail::FieldCaster::fields_</a></div><div class="ttdeci">const std::vector&lt; pcl::PCLPointField &gt; &amp; fields_</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8h_source.html#l00181">conversions.h:181</a></div></div>
<div class="ttc" id="astructpcl_1_1detail_1_1_field_copier_html"><div class="ttname"><a href="structpcl_1_1detail_1_1_field_copier.html">pcl::detail::FieldCopier</a></div><div class="ttdoc">Used together with pcl::for_each_type, copies all point fields from cloud_data (respecting each field...</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8h_source.html#l00331">conversions.h:331</a></div></div>
<div class="ttc" id="astructpcl_1_1detail_1_1_field_copier_html_a42e9eb13cc21bc1dae42231e37ce1dc3"><div class="ttname"><a href="structpcl_1_1detail_1_1_field_copier.html#a42e9eb13cc21bc1dae42231e37ce1dc3">pcl::detail::FieldCopier::FieldCopier</a></div><div class="ttdeci">FieldCopier(std::uint8_t *&amp;msg_data, const std::uint8_t *&amp;cloud_data)</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8h_source.html#l00332">conversions.h:332</a></div></div>
<div class="ttc" id="astructpcl_1_1detail_1_1_field_copier_html_a46b85c3a3017cca7adcf9f460e4e9407"><div class="ttname"><a href="structpcl_1_1detail_1_1_field_copier.html#a46b85c3a3017cca7adcf9f460e4e9407">pcl::detail::FieldCopier::cloud_data_</a></div><div class="ttdeci">const std::uint8_t *&amp; cloud_data_</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8h_source.html#l00340">conversions.h:340</a></div></div>
<div class="ttc" id="astructpcl_1_1detail_1_1_field_copier_html_a4f298b30bf357fdf8c88d76f12a63240"><div class="ttname"><a href="structpcl_1_1detail_1_1_field_copier.html#a4f298b30bf357fdf8c88d76f12a63240">pcl::detail::FieldCopier::operator()</a></div><div class="ttdeci">void operator()()</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8h_source.html#l00334">conversions.h:334</a></div></div>
<div class="ttc" id="astructpcl_1_1detail_1_1_field_copier_html_aa83d9f0c7a190de920fb9d0cd4d10f80"><div class="ttname"><a href="structpcl_1_1detail_1_1_field_copier.html#aa83d9f0c7a190de920fb9d0cd4d10f80">pcl::detail::FieldCopier::msg_data_</a></div><div class="ttdeci">std::uint8_t *&amp; msg_data_</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8h_source.html#l00339">conversions.h:339</a></div></div>
<div class="ttc" id="astructpcl_1_1detail_1_1_field_mapper_html"><div class="ttname"><a href="structpcl_1_1detail_1_1_field_mapper.html">pcl::detail::FieldMapper</a></div><div class="ttdef"><b>Definition:</b> <a href="conversions_8h_source.html#l00083">conversions.h:84</a></div></div>
<div class="ttc" id="astructpcl_1_1detail_1_1_field_mapper_html_a786246cfd0ca9ff9a953359fb783eabc"><div class="ttname"><a href="structpcl_1_1detail_1_1_field_mapper.html#a786246cfd0ca9ff9a953359fb783eabc">pcl::detail::FieldMapper::operator()</a></div><div class="ttdeci">void operator()()</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8h_source.html#l00092">conversions.h:92</a></div></div>
<div class="ttc" id="astructpcl_1_1detail_1_1_field_mapper_html_adb8d56bedc466237b51e6db45445d8d9"><div class="ttname"><a href="structpcl_1_1detail_1_1_field_mapper.html#adb8d56bedc466237b51e6db45445d8d9">pcl::detail::FieldMapper::FieldMapper</a></div><div class="ttdeci">FieldMapper(const std::vector&lt; pcl::PCLPointField &gt; &amp;fields, std::vector&lt; FieldMapping &gt; &amp;map)</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8h_source.html#l00085">conversions.h:85</a></div></div>
<div class="ttc" id="astructpcl_1_1detail_1_1_field_mapper_html_af06ff6556b770bafaab9d2755b799159"><div class="ttname"><a href="structpcl_1_1detail_1_1_field_mapper.html#af06ff6556b770bafaab9d2755b799159">pcl::detail::FieldMapper::fields_</a></div><div class="ttdeci">const std::vector&lt; pcl::PCLPointField &gt; &amp; fields_</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8h_source.html#l00111">conversions.h:111</a></div></div>
<div class="ttc" id="astructpcl_1_1detail_1_1_field_mapper_html_af1d451bd5799bbf0ee91eb01bb5c9ae1"><div class="ttname"><a href="structpcl_1_1detail_1_1_field_mapper.html#af1d451bd5799bbf0ee91eb01bb5c9ae1">pcl::detail::FieldMapper::map_</a></div><div class="ttdeci">std::vector&lt; FieldMapping &gt; &amp; map_</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8h_source.html#l00112">conversions.h:112</a></div></div>
<div class="ttc" id="astructpcl_1_1detail_1_1_field_mapping_html"><div class="ttname"><a href="structpcl_1_1detail_1_1_field_mapping.html">pcl::detail::FieldMapping</a></div><div class="ttdef"><b>Definition:</b> <a href="common_2include_2pcl_2point__cloud_8h_source.html#l00062">point_cloud.h:63</a></div></div>
<div class="ttc" id="astructpcl_1_1detail_1_1_field_mapping_html_a5df2e1c0f3ca9d1b8ee22f94c1ec49d3"><div class="ttname"><a href="structpcl_1_1detail_1_1_field_mapping.html#a5df2e1c0f3ca9d1b8ee22f94c1ec49d3">pcl::detail::FieldMapping::struct_offset</a></div><div class="ttdeci">std::size_t struct_offset</div><div class="ttdef"><b>Definition:</b> <a href="common_2include_2pcl_2point__cloud_8h_source.html#l00065">point_cloud.h:65</a></div></div>
<div class="ttc" id="astructpcl_1_1detail_1_1_field_mapping_html_aa08aa2ea14083c674f87c60c224bad34"><div class="ttname"><a href="structpcl_1_1detail_1_1_field_mapping.html#aa08aa2ea14083c674f87c60c224bad34">pcl::detail::FieldMapping::size</a></div><div class="ttdeci">std::size_t size</div><div class="ttdef"><b>Definition:</b> <a href="common_2include_2pcl_2point__cloud_8h_source.html#l00066">point_cloud.h:66</a></div></div>
<div class="ttc" id="astructpcl_1_1detail_1_1_field_mapping_html_aeca0d247db049a6eaa4194abd8c73191"><div class="ttname"><a href="structpcl_1_1detail_1_1_field_mapping.html#aeca0d247db049a6eaa4194abd8c73191">pcl::detail::FieldMapping::serialized_offset</a></div><div class="ttdeci">std::size_t serialized_offset</div><div class="ttdef"><b>Definition:</b> <a href="common_2include_2pcl_2point__cloud_8h_source.html#l00064">point_cloud.h:64</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<hr>
<div id="footer">
<p>
Except where otherwise noted, the PointClouds.org web pages are licensed under <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0</a>. 
</p>
<p>Pages generated on Wed Oct 23 2024 10:16:41</p>
</div> <!-- #footer -->
</body>
</html>
